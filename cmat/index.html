<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMAT NEXUS | Strategic Prep Companion</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 500px; }
        }
        .animate-slide-down { animation: slideDown 0.3s ease-out forwards; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-100 text-slate-900 h-screen overflow-hidden">

    <div id="app" class="flex flex-col md:flex-row h-full">
        <!-- Sidebar and Main Content will be rendered here by JS -->
    </div>

    <script>
        // --- 1. DATA STORE (The Knowledge Base) ---
        const SYLLABUS_DB = {
            "Quant & DI": {
                icon: "pie-chart",
                color: "text-blue-600",
                bg: "bg-blue-50",
                barColor: "bg-blue-600",
                modules: [
                    {
                        title: "Arithmetic (High Priority)",
                        topics: [
                            { name: "Percentages", concepts: ["Fraction to % Table", "Successive % Change", "Product Constancy Rule", "Population Growth"] },
                            { name: "Profit & Loss", concepts: ["Marked Price/Discount logic", "Dishonest Shopkeeper", "Buy X Get Y Free", "Profit on SP vs CP"] },
                            { name: "Time, Speed & Distance", concepts: ["Average Speed", "Relative Speed", "Trains & Platforms", "Boats & Streams", "Circular Motion"] },
                            { name: "Time & Work", concepts: ["LCM Method", "Efficiency & Days", "Pipes & Cisterns", "Man-Days-Hours Formula"] },
                            { name: "SI & CI", concepts: ["Diff between SI/CI (2/3 yrs)", "Installment Formulas", "Rule of 72"] }
                        ]
                    },
                    {
                        title: "Number Systems",
                        topics: [
                            { name: "Properties of Numbers", concepts: ["Divisibility Rules", "Unit Digit", "Last Two Digits", "Factors"] },
                            { name: "HCF & LCM", concepts: ["HCF of Fractions", "Bell Ringing Models", "Product = HCF * LCM"] }
                        ]
                    },
                    {
                        title: "Algebra & Modern Math",
                        topics: [
                            { name: "Linear & Quadratic Eq", concepts: ["Nature of Roots", "Sum/Product of Roots", "Parabola Basics"] },
                            { name: "Probability", concepts: ["Coins/Dice/Cards", "At least/At most", "And/Or Rules"] },
                            { name: "Permutation & Comb", concepts: ["Arrangements", "Selection (nCr)", "Dictionary Rank"] },
                            { name: "Set Theory", concepts: ["Venn Diagrams (2 & 3 Sets)", "Exactly one/two formulas"] }
                        ]
                    },
                    {
                        title: "Data Interpretation",
                        topics: [
                            { name: "Calculation Techniques", concepts: ["Vedic Math", "10% Split Method", "Comparing Fractions"] },
                            { name: "Chart Types", concepts: ["Pie Charts", "Bar Graphs", "Spider Charts", "Caselets"] }
                        ]
                    }
                ]
            },
            "Logical Reasoning": {
                icon: "brain",
                color: "text-purple-600",
                bg: "bg-purple-50",
                barColor: "bg-purple-600",
                modules: [
                    {
                        title: "Analytical Reasoning",
                        topics: [
                            { name: "Linear Arrangement", concepts: ["Single/Double Row", "Uncertain persons"] },
                            { name: "Circular Arrangement", concepts: ["Facing Center/Out", "Rectangular Table"] },
                            { name: "Distribution/Matrix", concepts: ["Matching Attributes", "Grid Method"] },
                            { name: "Blood Relations", concepts: ["Family Tree Symbols", "Coded Relations", "Pointing Type"] },
                            { name: "Direction Sense", concepts: ["Pythagoras Application", "Shadows Logic", "Degrees"] }
                        ]
                    },
                    {
                        title: "Verbal & Critical Reasoning",
                        topics: [
                            { name: "Syllogisms", concepts: ["Venn Diagram Method", "Possibility Cases", "Reverse Syllogism"] },
                            { name: "Critical Reasoning", concepts: ["Strong vs Weak Arg", "Implicit Assumptions", "Course of Action"] },
                            { name: "Coding Decoding", concepts: ["Letter Shifting", "Number Coding", "Chinese Coding"] }
                        ]
                    },
                    {
                        title: "Visual Reasoning (CMAT Special)",
                        topics: [
                            { name: "Visual Puzzles", concepts: ["Paper Folding", "Mirror Images", "Series Completion"] },
                            { name: "Cubes & Dice", concepts: ["Opposite Faces", "Unfolded Cube", "Painting Logic"] }
                        ]
                    }
                ]
            },
            "Language": {
                icon: "book-open",
                color: "text-green-600",
                bg: "bg-green-50",
                barColor: "bg-green-600",
                modules: [
                    {
                        title: "Vocabulary",
                        topics: [
                            { name: "Core Vocab", concepts: ["Root Words", "Synonyms/Antonyms", "Foreign Words"] },
                            { name: "Usage", concepts: ["Idioms & Phrases", "One Word Substitution", "Confusing Words"] }
                        ]
                    },
                    {
                        title: "Grammar",
                        topics: [
                            { name: "Core Rules", concepts: ["Subject-Verb Agreement", "Tenses", "Modifiers", "Parallelism"] },
                            { name: "Application", concepts: ["Sentence Correction", "Spotting Errors"] }
                        ]
                    },
                    {
                        title: "Reading",
                        topics: [
                            { name: "Comprehension", concepts: ["Main Idea", "Tone", "Fact vs Inference"] },
                            { name: "Structure", concepts: ["Parajumbles", "Odd One Out"] }
                        ]
                    }
                ]
            },
            "Innovation & Ent": {
                icon: "lightbulb",
                color: "text-orange-600",
                bg: "bg-orange-50",
                barColor: "bg-orange-600",
                description: "The Game Changer Section. High ROI.",
                modules: [
                    {
                        title: "Entrepreneurship Concepts",
                        topics: [
                            { name: "Types of Entrepreneurs", concepts: ["Fabian (Skeptical)", "Drone (Resistant)", "Imitative (Copies)", "Innovative (New Markets)"] },
                            { name: "Startup Lifecycle", concepts: ["Bootstrapping", "Seed Stage", "Growth Stage", "Exit (IPO/Acquisition)"] },
                            { name: "Funding Terminology", concepts: ["Angel Investor", "Venture Capital", "Valuation", "Burn Rate", "Unicorn (> $1B)"] }
                        ]
                    },
                    {
                        title: "Government Schemes",
                        topics: [
                            { name: "Start Up India", concepts: ["2016 Launch", "Tax Holidays", "Self-certification"] },
                            { name: "MUDRA Yojana", concepts: ["Shishu (<50k)", "Kishor (50k-5L)", "Tarun (5L-10L)"] },
                            { name: "Atal Innovation Mission", concepts: ["Tinkering Labs", "Incubation Centers"] },
                            { name: "Stand Up India", concepts: ["SC/ST & Women focus", "10L-1Cr Loan"] }
                        ]
                    },
                    {
                        title: "Innovation Management",
                        topics: [
                            { name: "IPR (Intellectual Property)", concepts: ["Patents (Inventions)", "Trademark (Brand)", "Copyright (Art)", "GI Tag"] },
                            { name: "Design Thinking", concepts: ["Empathize -> Define -> Ideate -> Prototype -> Test"] }
                        ]
                    }
                ]
            },
            "General Awareness": {
                icon: "trending-up",
                color: "text-red-600",
                bg: "bg-red-50",
                barColor: "bg-red-600",
                description: "Static GK dominant. Focus on Fact Lists.",
                modules: [
                    {
                        title: "Indian Polity",
                        topics: [
                            { name: "Constitution Key Articles", concepts: ["Art 12-35 (Rights)", "Art 51A (Duties)", "Emergency (352-360)"] },
                            { name: "Structure", concepts: ["President Powers", "Parliament Composition", "Schedules 1-12"] }
                        ]
                    },
                    {
                        title: "Geography (Static)",
                        topics: [
                            { name: "Physical India", concepts: ["Rivers & Tributaries", "Dams", "Mountain Passes"] },
                            { name: "Environment", concepts: ["National Parks", "Biosphere Reserves", "Ramsar Sites"] }
                        ]
                    },
                    {
                        title: "History",
                        topics: [
                            { name: "Modern History", concepts: ["Gandhian Era", "INC Sessions", "Governor Generals"] },
                            { name: "Ancient/Medieval", concepts: ["Indus Valley", "Mughal Empire", "Key Battles"] }
                        ]
                    },
                    {
                        title: "Current Affairs",
                        topics: [
                            { name: "Categories", concepts: ["Nobel Prizes", "Sports (Olympics/Cricket)", "Summits (G20)", "Books & Authors"] }
                        ]
                    }
                ]
            }
        };

        // --- 2. STATE MANAGEMENT ---
        const state = {
            activeTab: 'syllabus', // syllabus, strategy, roadmap
            expandedSection: 'Quant & DI',
            expandedConcept: null,
            mobileMenuOpen: false,
            completedTopics: JSON.parse(localStorage.getItem('cmat_progress')) || {} 
        };

        // --- 3. CORE LOGIC ---
        
        function saveProgress() {
            localStorage.setItem('cmat_progress', JSON.stringify(state.completedTopics));
            renderApp(); // Re-render to update progress bars
        }

        function toggleTopic(topicName) {
            if (state.completedTopics[topicName]) {
                delete state.completedTopics[topicName];
            } else {
                state.completedTopics[topicName] = true;
            }
            saveProgress();
        }

        function getProgress(sectionKey) {
            const modules = SYLLABUS_DB[sectionKey].modules;
            let total = 0;
            let completed = 0;
            modules.forEach(m => {
                m.topics.forEach(t => {
                    total++;
                    if (state.completedTopics[t.name]) completed++;
                });
            });
            return { total, completed, percentage: total === 0 ? 0 : (completed/total)*100 };
        }

        function getDaysLeft() {
            const targetDate = new Date('2026-01-25');
            const today = new Date();
            const diff = targetDate - today;
            return Math.ceil(diff / (1000 * 60 * 60 * 24));
        }

        // --- 4. RENDER FUNCTIONS ---

        function renderSidebar() {
            const navClass = (id) => `flex items-center gap-3 w-full p-3 rounded-lg transition-all font-medium cursor-pointer ${state.activeTab === id ? 'bg-indigo-600 text-white shadow-md' : 'text-slate-600 hover:bg-indigo-50 hover:text-indigo-700'}`;

            return `
                <div class="fixed inset-y-0 left-0 z-50 w-72 bg-white border-r border-slate-200 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${state.mobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} flex flex-col">
                    <div class="p-6 border-b border-slate-100 bg-slate-50">
                        <div class="flex items-center gap-3 text-indigo-700">
                            <div class="bg-indigo-600 text-white p-2 rounded-lg">
                                <i data-lucide="zap" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h1 class="text-xl font-extrabold tracking-tight leading-none">CMAT<br/><span class="text-slate-800">NEXUS</span></h1>
                            </div>
                        </div>
                        <div class="mt-4 bg-indigo-50 text-indigo-900 text-xs font-bold px-3 py-1 rounded-full inline-block">
                            Target: Jan 2026
                        </div>
                    </div>

                    <nav class="p-4 space-y-2 flex-1">
                        <div onclick="setTab('syllabus')" class="${navClass('syllabus')}">
                            <i data-lucide="list" class="w-5 h-5"></i> <span>Syllabus & Concepts</span>
                        </div>
                        <div onclick="setTab('strategy')" class="${navClass('strategy')}">
                            <i data-lucide="target" class="w-5 h-5"></i> <span>Strategy & Tactics</span>
                        </div>
                        <div onclick="setTab('roadmap')" class="${navClass('roadmap')}">
                            <i data-lucide="clock" class="w-5 h-5"></i> <span>60-Day Roadmap</span>
                        </div>
                    </nav>

                    <div class="p-6 bg-slate-50 border-t border-slate-100">
                        <div class="flex items-center gap-3 mb-2">
                            <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold">JD</div>
                            <div>
                                <p class="text-sm font-bold text-slate-800">Aspirant</p>
                                <p class="text-xs text-slate-500">Progress Saved Locally</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Overlay -->
                ${state.mobileMenuOpen ? `<div onclick="toggleMobileMenu()" class="fixed inset-0 bg-black/20 z-40 md:hidden"></div>` : ''}
            `;
        }

        function renderHeader() {
            const titles = {
                syllabus: "Knowledge Base",
                strategy: "Exam Strategy",
                roadmap: "Preparation Timeline"
            };
            const subtitles = {
                syllabus: "Select a section to access the micro-syllabus and concept cards. Check box to track progress.",
                strategy: "Master the game mechanics of CMAT 2026.",
                roadmap: "Your schedule to peak at the right time."
            };

            return `
                <div class="md:hidden bg-white p-4 flex justify-between items-center shadow-sm sticky top-0 z-40">
                    <span class="font-bold text-lg text-indigo-700">CMAT NEXUS</span>
                    <button onclick="toggleMobileMenu()">
                        <i data-lucide="${state.mobileMenuOpen ? 'x' : 'menu'}"></i>
                    </button>
                </div>

                <div class="mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4 pt-4 md:pt-0">
                    <div>
                        <h2 class="text-2xl md:text-3xl font-bold text-slate-800">${titles[state.activeTab]}</h2>
                        <p class="text-slate-500 mt-1 text-sm md:text-base">${subtitles[state.activeTab]}</p>
                    </div>
                    <div class="bg-slate-900 text-white px-4 py-2 rounded-lg shadow-md flex items-center gap-2 w-fit">
                        <i data-lucide="clock" class="w-4 h-4 text-indigo-400"></i>
                        <span class="text-sm font-bold">~${getDaysLeft()} Days Left</span>
                    </div>
                </div>
            `;
        }

        function renderSyllabus() {
            let html = `<div class="space-y-2 pb-10">`;
            
            for (const [key, data] of Object.entries(SYLLABUS_DB)) {
                const progress = getProgress(key);
                const isExpanded = state.expandedSection === key;
                
                html += `
                    <div class="mb-4 border border-slate-200 rounded-xl overflow-hidden shadow-sm bg-white transition-all">
                        <div onclick="toggleSection('${key}')" class="p-4 flex items-center justify-between cursor-pointer ${isExpanded ? 'bg-slate-50' : 'hover:bg-slate-50'}">
                            <div class="flex items-center gap-4 flex-1">
                                <div class="p-3 rounded-lg ${data.bg} ${data.color} shrink-0">
                                    <i data-lucide="${data.icon}" class="w-6 h-6"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg text-slate-800">${key}</h3>
                                    <p class="text-xs text-slate-500 font-medium">${progress.completed}/${progress.total} Topics Mastered</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-24 h-2 bg-slate-200 rounded-full overflow-hidden hidden sm:block">
                                    <div class="h-full rounded-full transition-all duration-500 ${data.barColor}" style="width: ${progress.percentage}%"></div>
                                </div>
                                <i data-lucide="${isExpanded ? 'chevron-down' : 'chevron-right'}" class="text-slate-400"></i>
                            </div>
                        </div>
                        
                        ${isExpanded ? `
                            <div class="p-4 border-t border-slate-100 bg-slate-50/50 animate-fade-in">
                                ${data.description ? `
                                    <div class="mb-4 p-3 bg-yellow-50 text-yellow-800 text-sm rounded-lg flex items-start gap-2 border border-yellow-100">
                                        <i data-lucide="lightbulb" class="w-4 h-4 mt-0.5 shrink-0"></i>
                                        ${data.description}
                                    </div>
                                ` : ''}
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    ${data.modules.map(module => `
                                        <div class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                                            <h4 class="font-bold mb-3 pb-2 border-b border-slate-100 ${data.color} text-sm uppercase tracking-wide">${module.title}</h4>
                                            <ul class="space-y-3">
                                                ${module.topics.map(topic => `
                                                    <li class="group">
                                                        <div class="flex items-start justify-between">
                                                            <label class="flex items-center gap-3 cursor-pointer select-none">
                                                                <div class="relative flex items-center">
                                                                    <input type="checkbox" 
                                                                        class="peer h-5 w-5 cursor-pointer appearance-none rounded border border-slate-300 bg-white transition-all checked:border-indigo-600 checked:bg-indigo-600"
                                                                        ${state.completedTopics[topic.name] ? 'checked' : ''}
                                                                        onchange="toggleTopic('${topic.name}')"
                                                                    />
                                                                    <i data-lucide="check" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 pointer-events-none"></i>
                                                                </div>
                                                                <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 ${state.completedTopics[topic.name] ? 'line-through text-slate-400' : ''}">
                                                                    ${topic.name}
                                                                </span>
                                                            </label>
                                                            <button onclick="toggleConcept('${topic.name}')" class="text-xs text-slate-400 hover:text-indigo-600 underline px-2 py-1 whitespace-nowrap">
                                                                ${state.expandedConcept === topic.name ? 'Hide Info' : 'View Info'}
                                                            </button>
                                                        </div>
                                                        ${state.expandedConcept === topic.name ? `
                                                            <div class="mt-2 ml-8 p-3 bg-indigo-50 rounded-lg border-l-4 border-indigo-400 text-xs text-slate-700 space-y-1 animate-slide-down">
                                                                <p class="font-bold text-indigo-900 mb-1 uppercase tracking-wider text-[10px]">Key Concepts:</p>
                                                                ${topic.concepts.map(c => `<div class="flex items-start gap-2"><span class="text-indigo-400">•</span><span>${c}</span></div>`).join('')}
                                                            </div>
                                                        ` : ''}
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            html += `</div>`;
            return html;
        }

        function renderStrategy() {
            return `
                <div class="space-y-6 pb-10 animate-fade-in">
                    <div class="bg-gradient-to-br from-slate-900 to-slate-800 text-white p-6 rounded-2xl shadow-lg">
                        <h2 class="text-2xl font-bold mb-2 flex items-center gap-2"><i data-lucide="target" class="text-red-400"></i> The Winning Strategy</h2>
                        <p class="text-slate-300">CMAT is not about solving hard problems; it's about solving easy problems accurately and fast.</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-2 mb-3 text-indigo-700 font-bold">
                                <i data-lucide="clock" class="w-5 h-5"></i> Banking Time
                            </div>
                            <p class="text-sm text-slate-600 leading-relaxed">
                                Finish <strong>GK & I&E (40 Qs)</strong> in <strong>30 mins</strong>. 
                                This leaves you <strong>150 mins</strong> for Quant, LR, and Verbal (60 Qs).
                                That's <strong>2.5 mins/question</strong> for Math—huge luxury!
                            </p>
                        </div>
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-2 mb-3 text-red-700 font-bold">
                                <i data-lucide="award" class="w-5 h-5"></i> The 330+ Target
                            </div>
                            <p class="text-sm text-slate-600 leading-relaxed">
                                To reach JBIMS/SIMSREE, you need 99.9%ile.
                                <br/>Target: <strong>85-90 correct attempts</strong>.
                                <br/>Quant/LR Accuracy must be near <strong>100%</strong>.
                            </p>
                        </div>
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex items-center gap-2 mb-3 text-green-700 font-bold">
                                <i data-lucide="book-open" class="w-5 h-5"></i> I&E Hack
                            </div>
                            <p class="text-sm text-slate-600 leading-relaxed">
                                Don't use common sense. Memorize definitions.
                                Knowing what a <strong>"Fabian Entrepreneur"</strong> is guarantees +4 marks in 5 seconds.
                                Use the Syllabus tab to learn these.
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderRoadmap() {
            const weeks = [
                { title: "Week 1-2: Foundation", focus: "Arithmetic (Ratio/%) + Grammar + I&E Basics", color: "border-l-blue-500" },
                { title: "Week 3-4: Logic & Speed", focus: "TSD/Work + Arrangements + Govt Schemes", color: "border-l-purple-500" },
                { title: "Week 5-6: Modern Math", focus: "Geometry/Prob + Visual Reasoning + Static GK", color: "border-l-green-500" },
                { title: "Week 7-8: Mastery", focus: "Mocks (2/week) + Analysis + Current Affairs", color: "border-l-red-500" }
            ];

            return `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 pb-10 animate-fade-in">
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                            <div class="p-4 bg-slate-50 border-b border-slate-100 font-bold text-slate-700">
                                60-Day Roadmap Outline
                            </div>
                            <div class="divide-y divide-slate-100">
                                ${weeks.map(w => `
                                    <div class="p-4 border-l-4 ${w.color} hover:bg-slate-50 transition-colors">
                                        <h4 class="font-bold text-slate-800">${w.title}</h4>
                                        <p class="text-sm text-slate-600 mt-1">Focus: ${w.focus}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="font-bold text-slate-800 mb-3 flex items-center gap-2">
                                <i data-lucide="bookmark" class="text-indigo-500 w-5 h-5"></i> Daily Rituals
                            </h3>
                            <ul class="space-y-3 text-sm text-slate-600">
                                <li class="flex items-start gap-2">
                                    <span class="bg-indigo-100 text-indigo-700 font-bold px-2 rounded text-xs mt-0.5">AM</span>
                                    <span>Read The Hindu Editorial (30 mins)</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-indigo-100 text-indigo-700 font-bold px-2 rounded text-xs mt-0.5">PM</span>
                                    <span>Solve 20 Arithmetic Qs (45 mins)</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-indigo-100 text-indigo-700 font-bold px-2 rounded text-xs mt-0.5">Night</span>
                                    <span>Revise 1 Static GK Topic (15 mins)</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderApp() {
            const app = document.getElementById('app');
            
            let mainContent = '';
            if (state.activeTab === 'syllabus') mainContent = renderSyllabus();
            else if (state.activeTab === 'strategy') mainContent = renderStrategy();
            else if (state.activeTab === 'roadmap') mainContent = renderRoadmap();

            app.innerHTML = `
                ${renderSidebar()}
                <div class="flex-1 p-4 md:p-8 overflow-y-auto h-full bg-slate-100">
                    <div class="max-w-5xl mx-auto">
                        ${renderHeader()}
                        ${mainContent}
                    </div>
                </div>
            `;
            
            // Initialize icons
            lucide.createIcons();
        }

        // --- 5. ACTION HANDLERS ---
        
        window.setTab = (tab) => {
            state.activeTab = tab;
            state.mobileMenuOpen = false;
            renderApp();
        };

        window.toggleSection = (key) => {
            state.expandedSection = state.expandedSection === key ? null : key;
            renderApp();
        };
        
        window.toggleConcept = (name) => {
            state.expandedConcept = state.expandedConcept === name ? null : name;
            renderApp();
        };

        window.toggleMobileMenu = () => {
            state.mobileMenuOpen = !state.mobileMenuOpen;
            renderApp();
        };

        // Initial Render
        renderApp();

    </script>
</body>
</html>

